## 计算机网络五层

每一层都尽可能利用下层提供的服务为上层提供服务。

发方做什么：

将对象封装打包传递给下一层直至物理层。

+ 封装：数据在每一层都被添加该层的头部信息。

收方做什么：

将对象解包并传输给上一层直至应用层。

+ 解包：是封装的逆过程。去掉该层专属的头部信息，提取出上层可用的对象。



| 层次       | 问题关注点                                                   | （主动）中间设备                                             | 协议数据单元（PDU）                    | 常见协议                                                     | 涉及概念                                                     |
| ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 应用层     | 如何协同多个主机的多个应用进程以提供服务？                   | -                                                            | -                                      | HTTP、<br>Telnet、<br>FTP                                    | DNS 、<br/>NFS                                               |
| 运输层     | 如何为主机进程间的通信提供统一、可靠、高效的端到端服务？<br>发：接收本地进程的数据流，分割为合适大小的数据段<br/>收：将分组解封装，重构出字节流 | -                                                            | 数据段（Segment）、数据流(Data stream) | TCP、<br>UDP                                                 | 端口                                                         |
| 网络层     | 发：如何计算下一跳，封装数据流<br>收：如何存储分组，提取分组信息<br>如何提供主机到主机的服务？如何编址、寻址？如何协同进行拥塞控制？<br/> | 路由器                                                       | 分组(包、报文、Packet)                 | IP、<br/>RIP（依据跳数）、<br>OSPF（依据带宽）、<br>ICMP(ping、tracert、PMTU)、<br>ARP | 网关、<br>子网（与IPV4地址的枯竭无关）、<br>CIDR、<br>NAT    |
| 数据链路层 | 发：如何将分组封装成帧<br>收：如何将比特流解封为分组<br>双方如何协同进行逻辑链路控制（LLC,差错检测和流量控制）和介质访问控制(MAC)？ | 交换机（多端口的网桥，是集线器的替代品，交换机是网桥的现代名称）、<br>网卡（MAC地址烧在网卡的ROM中） | 帧(Frame)                              | PPP、<br>Aloha、<br>CSMA/CD                                  | 802.11标准 、<br/>海明距离、<br>奇偶校验、<br>循环冗余检错码（CRC）、<br>滑动窗口、<br>回退N帧、<br>选择性重传、<br>以太网、<br>MAC地址 |
| 物理层     | 发：如何发送0 1<br/>收：如何识别0 1                          | 网卡、<br>收发器（即转发器，现已退化为网卡上的部件）、<br/>中继器、集线器（二者现已很少使用） | 比特流（码元、Bits）                   | -                                                            | 802.11标准 <br/>信道的复用<br/>信号的调制                    |

> TCP/IP四层体系结构:
>
> + 将物理层和数据链路层合并，称网络接口层。TCP/IP四层体系结构是实际运用的网络结构。
>
> 分层的好处：
>
> + 只和自己的上下层打交道，关注问题更专注。
> + 问题规模小，从而利于独立的实现、维护，利于标准化工作。
>
> 分层的原则：
>
> + 第N层信宿机收到的对象与第N层信源机发出的对象一致
>
> TCP数据段的长度限制：每个TCP数据段需适合于下层的MTU
>
> + 以太网帧长度上限：1500字节

